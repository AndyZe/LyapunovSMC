function [x y] = simulate_sys( x, u)

% Integrate to get a new x,y
x_dot(1) = -x(1)+u*(2+x(3)^2)/(1+x(3)^2);
x_dot(2) = x(3);
x_dot(3) = x(1)*x(3)+u;

y_dot = x(2);

return x;
